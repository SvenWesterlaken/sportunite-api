branches:
  - master
  - feature/travis
  - feature/travis-test

sudo: required

addons:
  apt:
    sources:
      - sourceline: 'deb https://debian.neo4j.org/repo stable/'
        key_url: 'https://debian.neo4j.org/neotechnology.gpg.key'
    packages:
      - neo4j

language: node_js

node_js:
  - "stable"

services:
  - mongodb
  # - neo4j

before_install:
  - curl -vX POST http://neo4j:neo4j@localhost:7474/user/neo4j/password -d"password=j4oen"

before_script:
  - sleep 15

after_succes:
  - npm run coveralls

deploy:
  provider: heroku
  api_key:
    secure: process.env.HEROKU_API_KEY
  app: sportuniteb3-angular
